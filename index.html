<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Senuri POS-SYSTEM</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

</head>

<body class="bg-primary-subtle">
<!-- Header Section -->
<nav class="navbar navbar-expand-lg bg-info">
    <div class="container-fluid">
        <a class="navbar-brand" href="#"><img src="image/logo.png" width="60"></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a id="dashboard-nav" class="nav-link active" aria-current="page" href="#">Home</a>
                </li>
                <li class="nav-item">
                    <a id="customer-nav" class="nav-link" href="#">Customer</a>
                </li>
                <li class="nav-item">
                    <a id="item-nav" class="nav-link" href="#">Item</a>
                </li>
                <li class="nav-item">
                    <a id="order-nav" class="nav-link" href="#">Order</a>
                </li>
                <li class="nav-item">
                    <a id="order-history-nav" class="nav-link" href="#">Order History</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- Main Content Sections -->
<div id="main-content">
    <div id="dashboard-section" class="container mt-4 ">
        <h1 class="text-center mb-3">Dashboard</h1>
        <br>
        <br>
        <br>
        <br>
        <div class="row">
            <!-- Customer Count Card -->
            <div class="col-md-4">
                <div class="card text-white bg-primary mb-3 text-center">
                    <div class="card-body">
                        <h5 class="card-title">Customers</h5>
                        <img src="image/customer.png" alt="Customer Icon" class="img-fluid mb-2" >
                        <p class="card-text fs-2" id="customerCount">100</p>
                    </div>
                </div>
            </div>
            <!-- Item Count Card -->
            <div class="col-md-4">
                <div class="card text-white bg-success mb-3 text-center">
                    <div class="card-body">
                        <h5 class="card-title">Items</h5>
                        <img src="image/item.png" alt="Item Icon" class="img-fluid mb-2" >
                        <p class="card-text fs-2" id="itemCount">50</p>
                    </div>
                </div>
            </div>
            <!-- Order Count Card -->
            <div class="col-md-4">
                <div class="card text-white bg-warning mb-3 text-center">
                    <div class="card-body">
                        <h5 class="card-title">Orders</h5>
                        <img src="image/order.png" alt="Order Icon" class="img-fluid mb-2">
                        <p class="card-text fs-2" id="orderCount">150</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Customer Content Sections -->
<section id="customer-section" style="display:none;">
    <div class="container mt-4">
        <div class="row mb-3 align-items-center">
            <div class="col">
                <h1 class="mt-2 mb-3 text-center">CUSTOMER FORM</h1>
            </div>
        </div>

        <div class="row">
            <!-- Left Column: Customer Form -->
            <div class="col-lg-6 col-md-12">
                <div class="card my-4">
                    <div class="card-header bg-info-subtle " >Enter Customer Details</div>
                    <div class="card-body">
                        <form id="customerForm">
                            <div class="mb-3">
                                <label for="customerId" class="form-label">Customer ID</label>
                                <input type="text" class="form-control" id="customerId" placeholder="C_0001" required>
                            </div>
                            <div class="mb-3">
                                <label for="customerName" class="form-label">Customer Name</label>
                                <input type="text" class="form-control" id="customerName" placeholder="Ishani" required>
                            </div>
                            <div class="mb-3">
                                <label for="customerAddress" class="form-label">Customer Address </label>
                                <input type="text" class="form-control" id="customerAddress" placeholder="Matara" required>
                            </div>
                            <div class="mb-3">
                                <label for="customerSalary" class="form-label">Customer Salary</label>
                                <input type="number" class="form-control" id="customerSalary" placeholder="25000.00" required>
                            </div>

                            <div class="row d-flex justify-content-center">
                                <div class="col-6 col-sm-3 mb-2">
                                    <button type="button" class="btn btn-outline-primary w-100" id="customer_add_btn">SAVE</button>
                                </div>
                                <div class="col-6 col-sm-3 mb-2">
                                    <button type="button" class="btn btn-outline-secondary w-100" id="customer_update_btn">UPDATE</button>
                                </div>
                                <div class="col-6 col-sm-3 mb-2">
                                    <button type="button" class="btn btn-outline-info w-100" id="customer_delete_btn">DELETE</button>
                                </div>
                                <div class="col-6 col-sm-3 mb-2">
                                    <button type="button" class="btn btn-outline-success w-100" id="customer_clear_btn">CLEAR</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>


            <div class="col-lg-6 col-md-12">
                <div class="card my-4">
                    <table class="table table-bordered mt-3 p-3"> <!-- Added p-3 for padding inside the table -->
                        <thead class="table">
                        <tr>
                            <th>Customer ID</th>
                            <th>Name</th>
                            <th>Address</th>
                            <th>Salary</th>
                        </tr>
                        </thead>
                        <tbody id="customerTableBody">
                        <!-- Dynamic customer data will be injected here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</section>


<!-- Item Content Section -->
<section id="item-section" style="display:none;">
    <div class="container mt-4">
        <div class="row mb-3 align-items-center">
            <div class="col">
                <h1 class="mt-2 mb-3 text-center">ITEM FORM</h1>
            </div>
        </div>

        <div class="row">
            <!-- Left Column: Customer Form -->
            <div class="col-lg-6 col-md-12">
                <div class="card my-4">
                    <div class="card-header bg-info-subtle " >Enter Item Details</div>
                    <div class="card-body">
                        <form id="itemForm">
                            <div class="mb-3">
                                <label for="saveItemCodeField" class="form-label">Item Code</label>
                                <input type="text" class="form-control" id="saveItemCodeField">
                            </div>
                            <div class="mb-3">
                                <label for="saveItemNameField" class="form-label">Item Name</label>
                                <input type="text" class="form-control" id="saveItemNameField">
                            </div>
                            <div class="mb-3">
                                <label for="saveItemDescriptionField" class="form-label">Item Description</label>
                                <input type="text" class="form-control" id="saveItemDescriptionField">
                            </div>
                            <div class="mb-3">
                                <label for="saveItemPriceField" class="form-label">Price</label>
                                <input type="text" class="form-control" id="saveItemPriceField">
                            </div>
                            <div class="mb-3">
                                <label for="saveItemQtyField" class="form-label">Quantity</label>
                                <input type="text" class="form-control" id="saveItemQtyField">
                            </div>

                            <div class="row d-flex justify-content-center">
                                <div class="col-6 col-sm-3 mb-2">
                                    <button type="button" class="btn btn-outline-primary w-100" id="item_add_btn">SAVE</button>
                                </div>
                                <div class="col-6 col-sm-3 mb-2">
                                    <button type="button" class="btn btn-outline-secondary w-100" id="item_update_btn">UPDATE</button>
                                </div>
                                <div class="col-6 col-sm-3 mb-2">
                                    <button type="button" class="btn btn-outline-info w-100" id="item_delete_btn">DELETE</button>
                                </div>
                                <div class="col-6 col-sm-3 mb-2">
                                    <button type="button" class="btn btn-outline-success w-100" id="item_clear_btn">CLEAR</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-md-12">
                <div class="card my-4">
                    <table class="table table-bordered mt-3 p-3">
                        <thead class="table">
                        <tr class="table-info">
                            <th scope="col">Item Code</th>
                            <th scope="col">Item Name</th>
                            <th scope="col">Description</th>
                            <th scope="col">Price</th>
                            <th scope="col">Qty</th>
                        </tr>
                        </thead>
                        <tbody id="item_searchTableBody"></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</section>


<!--order-->
<section id="order-section">


    <div class="container my-4">

        <h1 class="mt-2 mb-5 text-center" >Manage Order</h1>
        <!--    section-->
        <div class="row">
            <!-- Invoice Details -->
            <div class="col-md-4 mb-4">
                <div class="card">
                    <div class="card-header bg-info-subtle ">
                        Invoice Details
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label for="orderID" class="form-label">Order ID</label>
                            <input type="text" class="form-control" id="orderID" value="">
                        </div>
                        <div class="mb-3">
                            <label for="date" class="form-label">Date</label>
                            <input type="date" class="form-control" id="date" value="">
                        </div>
                        <div class="mb-3">
                            <label for="CustomerId" class="form-label">Customer</label>
                            <div class="input-group flex-grow-1">
                                <!-- Use flex-grow to take available space -->
                                <input id="customerSearchId" type="text" class="form-control"
                                       placeholder="Input customer id"
                                       aria-label="Recipient's username" aria-describedby="basic-addon2">
                                <span class="input-group-text search-span" id="basic-addon4">Search</span>
                            </div>
                            <button id="customerSearch" type="button" class="btn btn-outline-secondary mt-3">search</button>
                            <button type="button" class="btn btn-outline-success mt-3  " id="btn_clear_order_customer">Clear</button>

                        </div>

                        <div class="mb-3">
                            <label for="customerID" class="form-label">Customer ID</label>
                            <input type="text" class="form-control" id="customer_ID" value="" readonly>
                        </div>
                        <div class="mb-3">
                            <label for="customerName" class="form-label">Name</label>
                            <input type="text" class="form-control" id="customer_Name" value="" readonly>
                        </div>
                        <div class="mb-3">
                            <label for="customerSalary" class="form-label">Salary</label>
                            <input type="text" class="form-control" id="customer_Salary" value="" readonly>
                        </div>
                        <div class="mb-3">
                            <label for="customerAddress" class="form-label">Address</label>
                            <input type="text" class="form-control" id="customer_Address" value="" readonly>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Item Selection -->
            <div class="col-md-4 mb-4">
                <div class="card">
                    <div class="card-header bg-info-subtle ">
                        Item Select
                    </div>
                    <div class="card-body">
                        <label for="CustomerId" class="form-label">Item code</label>
                        <div class="input-group flex-grow-1">
                            <!-- Use flex-grow to take available space -->
                            <input id="itemSearchId" type="text" class="form-control"
                                   placeholder="Input item code"
                                   aria-label="Recipient's username" aria-describedby="basic-addon2">
                            <span class="input-group-text search-span" >Search</span>
                        </div>
                        <button id="itemSearch" type="button" class="btn btn-outline-secondary mt-3 ">search</button>
                        <button type="button" class="btn btn-outline-warning mt-3  " id="btn_clear_order_item">Clear</button>


                        <div class="mb-3">
                            <label for="itemCode" class="form-label">Item code</label>
                            <input type="text" class="form-control" id="itemCode" value="" readonly>
                        </div>
                        <div class="mb-3">
                            <label for="itemName" class="form-label">Item Name</label>
                            <input type="text" class="form-control" id="itemName" value="" readonly>
                        </div>
                        <div class="mb-3">
                            <label for="itemDescription" class="form-label">Item Description</label>
                            <input type="text" class="form-control" id="itemDescription" value="" readonly>
                        </div>
                        <div class="mb-3">
                            <label for="itemPrice" class="form-label">Price</label>
                            <input type="text" class="form-control" id="itemPrice" value="" readonly>
                        </div>
                        <div class="mb-3">
                            <label for="itemQtyOnH" class="form-label">Qty On Hand</label>
                            <input type="text" class="form-control" id="itemQtyOnH" value="" readonly>
                        </div>
                        <div class="mb-3">
                            <label for="orderQty" class="form-label">Order Quantity</label>
                            <input type="number" class="form-control" id="orderQty" value="">
                        </div>
                        <button id="add_btn" class="btn btn-outline-primary">Add Item</button>
                        <button id="remove_cart" type="button" class="btn btn-outline-danger">Remove cart</button>
                    </div>
                </div>
            </div>

            <!-- Total Section -->
            <div class="col-md-4 mb-4">
                <div class="card">
                    <div class="card-header bg-info-subtle ">
                        Total Price
                    </div>
                    <div class="card-body total-section">
                        <h2 class="total" id="totalDisplay" style="color: red">Total: 00.00</h2>

                        <div class="mb-3">
                            <label for="discount_range" class="form-label">discount Range%</label>
                            <input type="text" class="form-control" id="discount_range"  value="" readonly>
                        </div>
                        <div class="mb-3">
                            <label for="discount" class="form-label">Discount </label>
                            <input type="text" class="form-control" id="discount" value="" readonly>
                        </div>


                        <div class="mb-3">
                            <label for="amount" class="form-label">amount </label>
                            <input type="text" class="form-control" id="amount" value="" readonly>
                        </div>


                        <div class="mb-3">
                            <label for="cash" class="form-label">cash</label>
                            <input type="text" class="form-control" id="cash" value="">
                        </div>
                        <button id="btn_purches" class="btn btn-success">Purchase</button>
                        <div class="mb-3">
                            <label for="balance" class="form-label">Balance</label>
                            <input type="text" class="form-control" id="balance" style="color: darkslateblue" value="" readonly>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        <!-- Order Details Table -->
        <div class="row mt-4">
            <table class="table table-bordered">
                <thead class="table-success">
                <tr>

                    <th>Item Code</th>
                    <th>Item Name</th>
                    <th>Price</th>
                    <th>Quantity</th>
                    <th>Total</th>
                </tr>
                </thead>
                <tbody id="cart">
                <tr>

                </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>


<section id="OrderHistoryPage">
    <div class="container">
        <br>
        <br>
        <h1 class="mt-2 mb-5 text-center" >ORDER HISTORY</h1>
        <div class="row justify-content-center align-items-center ">

            <div class="col-12 col-lg-12 mb-1  pt-5">

                <div class="card p-3 bg-opacity-50">
                    <div class="table-responsive">
                        <table class="table table-bordered table-custom">
                            <thead>
                            <tr>
                                <th scope="col">order Id</th>
                                <th scope="col">date</th>
                                <th scope="col">customer Id</th>
                                <th scope="col">Item Name</th>
                                <th scope="col">Item Price</th>
                                <th scope="col">Order Quantity</th>
                                <th scope="col">sub total</th>
                                <th scope="col">discount range %</th>
                                <th scope="col">discount</th>
                                <th scope="col">final Amount</th>

                            </tr>
                            </thead>
                            <tbody id="OrderHistoryTable">

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>



<!--jQuery-->
<script src="lib/jquery-3.7.1.min.js"></script>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
    $(document).ready(function() {
// Initially hide all sections
        $('#customer-section, #item-section, #order-section, #OrderHistoryPage').hide();

// Dashboard navigation
        $('#dashboard-nav').click(function() {
            $('#dashboard-section').show();
            $('#customer-section, #item-section, #order-section, #OrderHistoryPage').hide();
        });

// Customer navigation
        $('#customer-nav').click(function() {
            $('#customer-section').show();
            $('#item-section, #order-section, #dashboard-section, #OrderHistoryPage').hide();
        });

// Item navigation
        $('#item-nav').click(function() {
            $('#item-section').show();
            $('#dashboard-section, #customer-section, #order-section, #OrderHistoryPage').hide();
        });

// Order navigation
        $('#order-nav').click(function() {
            $('#order-section').show();
            $('#OrderHistoryPage, #customer-section, #item-section, #dashboard-section').hide();
        });

// Order history navigation
        $('#order-history-nav').click(function() {
            $('#OrderHistoryPage').show();
            $('#customer-section, #item-section, #dashboard-section, #order-section').hide();
        });
    });


</script>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script type="module" src="controller/customer_controller.js"></script>
<script type="module" src="controller/item_controller.js"></script>
<script type="module" src="controller/order_controller.js"></script>
</body>
</html>